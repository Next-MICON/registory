board:
  owner: NextMicon
  name: TinyFPGA_BX
  version: 0.0.0
instances:
  - {name: serial, pack: {owner: NextMicon, name: Serial, version: 0.0.0}, params: [], pos: [320, -20], flip: true}
  - {name: ch1_sq, pack: {owner: kanade-k-1228, name: Square, version: 0.0.0}, params: [], pos: [120, 240]}
  - {name: ch2_sq, pack: {owner: kanade-k-1228, name: Square, version: 0.0.0}, params: [], pos: [120, 320]}
  - {name: ch3_sq, pack: {owner: kanade-k-1228, name: Square, version: 0.0.0}, params: [], pos: [120, 400]}
  - {name: mix, pack: {owner: kanade-k-1228, name: Mixier, version: 0.0.0}, params: [[N_CH, 4]], pos: [420, 280]}
  - {name: dac, pack: {owner: kanade-k-1228, name: SPIDAC, version: 0.0.0}, params: [], pos: [740, 300]}
  - {name: sampling, pack: {owner: NextMicon, name: Counter, version: 0.0.0}, params: [], pos: [420, 420]}
  - {name: digital, pack: {owner: NextMicon, name: Digital, version: 0.0.0}, params: [], pos: [760, 0]}
  - {name: ch0_sq, pack: {owner: kanade-k-1228, name: Square, version: 0.0.0}, params: [], pos: [120, 160]}
ioports:
  - {name: pin2, type: in, params: [], pos: [60, -40], flip: false}
  - {name: pin1, type: out, params: [], pos: [60, 0], flip: false}
  - {name: pin24, type: out, params: [], pos: [1000, 240], flip: true}
  - {name: pin23, type: out, params: [], pos: [1000, 280], flip: true}
  - {name: pin22, type: out, params: [], pos: [1000, 320], flip: true}
  - {name: pin21, type: out, params: [], pos: [1000, 360], flip: true}
  - {name: irq5, type: irq, params: [], pos: [260, 60], flip: true}
  - {name: pin11, type: in, params: [], pos: [60, 60]}
  - {name: led, type: out, params: [], pos: [1000, 0], flip: true}
wires:
  - {first: [mix, out], last: [dac, in], waypoints: [], width: 12}
  - {first: [sampling, of], last: [dac, sample], waypoints: [], width: 1}
  - {first: [ch0_sq, out], last: [mix, ch0], waypoints: [], width: 8}
  - {first: [ch1_sq, out], last: [mix, ch1], waypoints: [], width: 8}
  - {first: [ch2_sq, out], last: [mix, ch2], waypoints: [], width: 8}
  - {first: [ch3_sq, out], last: [mix, ch3], waypoints: [], width: 8}
  - {first: [dac, cs], last: [pin24, out], waypoints: [], width: 1}
  - {first: [dac, scl], last: [pin23, out], waypoints: [], width: 1}
  - {first: [dac, sdi], last: [pin22, out], waypoints: [], width: 1}
  - {first: [dac, ldac], last: [pin21, out], waypoints: [], width: 1}
  - {first: [pin11, in], last: [irq5, irq], waypoints: [], width: 1}
  - {first: [pin2, in], last: [serial, rx], waypoints: [], width: 1}
  - {first: [serial, tx], last: [pin1, out], waypoints: [], width: 1}
  - {first: [digital, out], last: [led, out], waypoints: [], width: 1}
